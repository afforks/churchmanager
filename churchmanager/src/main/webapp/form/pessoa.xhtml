<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:jsf="http://xmlns.jcp.org/jsf">

<h:form prependId="false">

	<p:focus for="nome" />

	<div class="ui-g-12 ui-g-nopad">
		<p:messages id="pessoa-msg" life="7000" showDetail="true"
			showSummary="true" />
	</div>

	<div class="ui-fluid padding ui-g-12" jsf:id="group">

		<p:fieldset legend="Dados pessoais">
			<div class="ui-g-6 ui-lg-6 ui-md-6 ui-sm-12">
				<p:outputLabel for="nome" styleClass="my-label" value="Nome " />
				<p:inputText id="nome" value="#{pessoaMB.pessoa.nome}"
					placeholder="Nome completo do membro">
					<p:clientValidator event="keyup" />
				</p:inputText>
				<p:message for="nome" />
			</div>

			<div class="ui-g-6 ui-lg-6 ui-md-6 ui-sm-12">
				<p:outputLabel for="apelido" styleClass="my-label" value="Apelido " />
				<p:inputText id="apelido" value="#{pessoaMB.pessoa.apelido}"
					placeholder="Nome pelo qual o membro é conhecido">
					<p:clientValidator event="keyup" />
				</p:inputText>
				<p:message for="apelido" />
			</div>

			<div class="ui-g-4 ui-lg-4 ui-md-6 ui-sm-12">
				<p:outputLabel for="dataNascimento" styleClass="my-label"
					value="Dt. nascimento " />
				<div class="ui-inputgroup">
					<span class="ui-inputgroup-addon"> <i class="fa fa-calendar"></i>
					</span>
					<p:calendar id="dataNascimento" mask="99/99/9999"
						placeholder="Ex.: 25/10/1990"
						value="#{pessoaMB.pessoa.dataNascimento}" navigator="true"
						pattern="dd/MM/yyyy">
						<p:clientValidator event="keyup" />
					</p:calendar>
				</div>
				<p:message for="dataNascimento" />
			</div>


			<div class="ui-g-4 ui-lg-4 ui-md-6 ui-sm-12">
				<div class="ui-g-12 ui-g-nopad">
					<p:outputLabel for="estadoCivil" styleClass="my-label"
						value="Estado civil" />
					<p:selectOneMenu id="estadoCivil" styleClass="min-size-correcao"
						value="#{pessoaMB.pessoa.estadoCivil}"
						converterMessage="Não foi possível converter o objeto (EstadoCivil)">
						<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
						<f:selectItems value="#{utilMB.listarEstadoCivil()}"
							itemLabel="#{estacoCivil.descricao}" itemValue="#{estacoCivil}"
							var="estacoCivil" />

					</p:selectOneMenu>
					<p:message for="estadoCivil" />
				</div>
			</div>


			<div class="ui-g-4 ui-lg-4 ui-md-6 ui-sm-12">
				<p:outputLabel for="sexo" styleClass="my-label" value="Sexo" />
				<p:selectOneRadio id="sexo" value="#{pessoaMB.pessoa.sexo}">
					<f:selectItems itemLabel="#{sexo.descricao}" var="sexo"
						value="#{utilMB.listarSexo()}" itemValue="#{sexo}" />
				</p:selectOneRadio>
				<p:message for="sexo" />
			</div>


			<div class="ui-g-4 ui-lg-4 ui-md-6 ui-sm-12">
				<p:outputLabel for="escolaridade" styleClass="my-label"
					value="Escolaridade" />
				<p:selectOneMenu id="escolaridade"
					value="#{pessoaMB.pessoa.escolaridade}"
					converterMessage="Não foi possível converter o objeto (Escolaridade)"
					styleClass="min-size-correcao">
					<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
					<f:selectItems value="#{utilMB.listarPerfilEscolaridade()}"
						itemLabel="#{escolaridade.descricao}" itemValue="#{escolaridade}"
						var="escolaridade" />
				</p:selectOneMenu>
				<p:message for="escolaridade" />
			</div>


			<div class="ui-g-4 ui-lg-4 ui-md-6 ui-sm-12">
				<p:outputLabel for="profissao" styleClass="my-label"
					value="Profissão " />
				<p:inputText id="profissao" value="#{pessoaMB.pessoa.profissao}"
					placeholder="Atuação profissional do membro">
					<p:clientValidator event="keyup" />
				</p:inputText>
				<p:message for="profissao" />
			</div>


			<div class="ui-g-4 ui-lg-4 ui-md-6 ui-sm-12">
				<p:outputLabel for="status" styleClass="my-label" value="Status" />
				<p:selectOneRadio id="status" value="#{pessoaMB.pessoa.status}">
					<f:selectItems itemLabel="#{status.descricao}" var="status"
						value="#{utilMB.listarStatus()}" itemValue="#{status}" />
				</p:selectOneRadio>
				<p:message for="status" />
			</div>

		</p:fieldset>


		<p:spacer width="0" height="20" />


		<p:fieldset legend="Endereço">


			<div class="ui-g-6 ui-lg-6 ui-md-4 ui-sm-12">
				<p:outputLabel for="logradouro" styleClass="my-label"
					value="Logradouro " />
				<p:inputText id="logradouro"
					value="#{pessoaMB.pessoa.endereco.logradouro}"
					placeholder="Ex.: Rua São João, 170">
					<p:clientValidator event="keyup" />
				</p:inputText>
				<p:message for="logradouro" />
			</div>


			<div class="ui-g-6 ui-lg-6 ui-md-4 ui-sm-12">
				<p:outputLabel for="referencia" styleClass="my-label"
					value="Referência " />
				<p:inputText id="referencia"
					value="#{pessoaMB.pessoa.endereco.referencia}"
					placeholder="Ex.: Próximo a...">
					<p:clientValidator event="keyup" />
				</p:inputText>
				<p:message for="referencia" />
			</div>

			<div class="ui-g-6 ui-lg-6 ui-md-4 ui-sm-12">
				<p:outputLabel for="bairro" styleClass="my-label" value="Bairro " />
				<p:inputText id="bairro" value="#{pessoaMB.pessoa.endereco.bairro}"
					placeholder="Ex.: Girilândia">
					<p:clientValidator event="keyup" />
				</p:inputText>
				<p:message for="bairro" />
			</div>


			<div class="ui-g-6 ui-lg-6 ui-md-4 ui-sm-12">
				<p:outputLabel for="cep" styleClass="my-label" value="CEP " />
				<div class="ui-inputgroup">
					<span class="ui-inputgroup-addon"> <i
						class="fa fa-envelope-o"></i>
					</span>
					<p:inputMask mask="99999-999" id="cep"
						value="#{pessoaMB.pessoa.endereco.cep}"
						placeholder="Ex.: 62.940-000">
						<p:clientValidator event="keyup" />
					</p:inputMask>
				</div>
				<p:message for="cep" />
			</div>


			<div class="ui-g-6 ui-lg-6 ui-md-4 ui-sm-12">
				<p:outputLabel for="cidade" styleClass="my-label" value="Cidade " />
				<p:inputText id="cidade" value="#{pessoaMB.pessoa.endereco.cidade}"
					placeholder="Ex.: Morada Nova">
					<p:clientValidator event="keyup" />
				</p:inputText>
				<p:message for="cidade" />
			</div>


			<div class="ui-g-6 ui-lg-6 ui-md-4 ui-sm-12">
				<p:outputLabel for="estado" styleClass="my-label" value="Estado " />
				<p:selectOneMenu id="estado" placeholder="Ex.: CE"
					value="#{pessoaMB.pessoa.endereco.estado}"
					converterMessage="Não foi possível converter o objeto (Estado)">
					<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
					<f:selectItems value="#{utilMB.listarEstados()}"
						itemLabel="#{estado.descricao}" itemValue="#{estado}" var="estado" />
				</p:selectOneMenu>
				<p:message for="estado" />
			</div>


			<div class="ui-g-6 ui-lg-6 ui-md-4 ui-sm-12">
				<p:outputLabel for="pais" styleClass="my-label" value="País " />
				<p:inputText id="pais" value="#{pessoaMB.pessoa.endereco.pais}"
					placeholder="Ex.: Brasil">
					<p:clientValidator event="keyup" />
				</p:inputText>
				<p:message for="pais" />
			</div>
		</p:fieldset>


		<p:spacer width="0" height="20" />


		<p:fieldset legend="Contato">

			<div class="ui-g-6 ui-lg-6 ui-md-12 ui-sm-12">
				<div class="ui-g-3 ui-lg-3 ui-md-3 ui-sm-3 ui-g-nopad">
					<p:outputLabel for="telefones" styleClass="my-label"
						value="Telefone(s) " />
				</div>
				<div class="ui-g-1 ui-lg-1 ui-md-1 ui-sm-2 ui-g-nopad">
					<p:commandButton icon="fa fa-plus" update="dlg-telefones"
						resetValues="true" process="@this" styleClass="btn-green"
						title="Adicionar telefone"
						oncomplete="PF('dlg-telefones').show();" />
				</div>

				<p:dataTable id="telefones" var="telefone"
					value="#{pessoaMB.pessoa.telefones}"
					emptyMessage="Nenhum telefone foi cadastrado!">
					<p:column headerText="Telefone" colspan="4">
						#{telefone}
					</p:column>

					<p:column headerText="#">
						<p:commandButton icon="fa fa-remove" styleClass="btn-red"
							process="@this" update="telefones">
							<p:collector value="#{telefone}"
								removeFrom="#{pessoaMB.pessoa.telefones}" />
						</p:commandButton>
					</p:column>

				</p:dataTable>
			</div>


			<div class="ui-g-6 ui-lg-6 ui-md-12 ui-sm-12">
				<div class="ui-g-3 ui-lg-3 ui-md-3 ui-sm-3 ui-g-nopad">
					<p:outputLabel for="emails" styleClass="my-label"
						value="E-mail(s) " />
				</div>
				<div class="ui-g-1 ui-lg-1 ui-md-1 ui-sm-2 ui-g-nopad">
					<p:commandButton icon="fa fa-plus" update="dlg-emails"
						resetValues="true" process="@this" styleClass="btn-green"
						title="Adicionar e-mail" oncomplete="PF('dlg-emails').show();" />
				</div>

				<p:dataTable id="emails" var="email"
					value="#{pessoaMB.pessoa.emails}"
					emptyMessage="Nenhum e-mail foi cadastrado!">
					<p:column headerText="E-mail" colspan="4">
						#{email}
					</p:column>

					<p:column headerText="#">
						<p:commandButton icon="fa fa-remove" styleClass="btn-red"
							process="@this" update="emails">
							<p:collector value="#{email}"
								removeFrom="#{pessoaMB.pessoa.emails}" />
						</p:commandButton>
					</p:column>

				</p:dataTable>
			</div>

		</p:fieldset>


		<p:spacer width="0" height="20" />


		<p:fieldset legend="Dados eclesiásticos">

			<div class="ui-g-3 ui-lg-3 ui-md-4 ui-sm-12">
				<p:outputLabel for="dataConversao" styleClass="my-label"
					value="Dt. de conversão " />
				<div class="ui-inputgroup">
					<span class="ui-inputgroup-addon"> <i class="fa fa-calendar"></i>
					</span>
					<p:calendar id="dataConversao" mask="99/99/9999"
						placeholder="Ex.: 20/08/2006"
						value="#{pessoaMB.pessoa.dataConversao}" navigator="true"
						pattern="dd/MM/yyyy">
						<p:clientValidator event="keyup" />
					</p:calendar>
				</div>
				<p:message for="dataConversao" />
			</div>

			<div class="ui-g-3 ui-lg-3 ui-md-4 ui-sm-12">
				<p:outputLabel for="dataBatismo" styleClass="my-label"
					value="Dt. de batismo " />
				<div class="ui-inputgroup">
					<span class="ui-inputgroup-addon"> <i class="fa fa-calendar"></i>
					</span>
					<p:calendar id="dataBatismo" mask="99/99/9999"
						placeholder="24/12/2006" value="#{pessoaMB.pessoa.dataBatismo}"
						navigator="true" pattern="dd/MM/yyyy">
						<p:clientValidator event="keyup" />
					</p:calendar>
				</div>
				<p:message for="dataBatismo" />
			</div>

			<div class="ui-g-12 ui-lg-12 ui-md-12 ui-sm-12">
				<p:outputLabel for="observacao" styleClass="my-label"
					value="Observação " />
				<p:inputTextarea id="observacao"
					value="#{pessoaMB.pessoa.observacao}"
					placeholder="Informações relevantes como: contato de emergência, se possui alergia, se faz uso de medicamento controlado, entre outros">
					<p:clientValidator event="keyup" />
				</p:inputTextarea>
				<p:message for="observacao" />
			</div>


			<div class="ui-g-12 ui-lg-12 ui-md-12 ui-sm-12">
				<p:outputLabel for="atividade" value="Atividades Eclesiásticas"
					styleClass="my-label" />
				<p:selectManyCheckbox id="atividade" converter="genericConverter"
					value="#{pessoaMB.pessoa.atividadesEclesiastica}" columns="3"
					layout="responsive">
					<f:attribute name="collectionType" value="java.util.ArrayList" />
					<f:selectItems var="atividade" itemValue="#{atividade}"
						itemLabel="#{atividade.nome}"
						value="#{atividadeEclesiasticaMB.atividades()}" />
				</p:selectManyCheckbox>
				<p:message for="atividade" />
			</div>
		</p:fieldset>



		<div class="ui-g-12 ui-g-nopad">
			<div class="ui-g-3 ui-lg-3 ui-md-4 ui-sm-6">
				<p:commandButton value="Cadastrar" action="#{pessoaMB.salvar()}"
					update="group" validateClient="true" icon="fa fa-save"
					rendered="#{pessoaMB.pessoa.id == null}" styleClass="btn-blue">
				</p:commandButton>

				<p:commandButton value="Editar" action="#{pessoaMB.atualizar()}"
					update="group" validateClient="true" icon="fa fa-edit"
					rendered="#{pessoaMB.pessoa.id != null}" styleClass="btn-green">
				</p:commandButton>
			</div>
			<div class="ui-g-3 ui-lg-3 ui-md-4 ui-sm-6">
				<p:button value="Cancelar" outcome="/list/pessoa" icon="fa fa-close"
					styleClass="btn-red ">
				</p:button>
			</div>
		</div>
	</div>
</h:form>

<p:growl id="msg-tel-email" autoUpdate="false" life="7000"
	showDetail="true" showSummary="true" />
<h:form prependId="false">
	<div class="ui-fluid">
		<p:dialog id="dlg-telefones" header="Telefone" closeOnEscape="true"
			draggable="false" dynamic="true" modal="true" focus="dlg-telefone"
			widgetVar="dlg-telefones" fitViewport="true" resizable="false">

			<p:outputLabel value="Número" for="dlg-telefone"
				styleClass="my-label" />
			<div class="ui-inputgroup">
				<span class="ui-inputgroup-addon"> <i class="fa fa-phone"></i>
				</span>
				<p:inputMask id="dlg-telefone"
					mask="(99)99999-9999"
					value="#{pessoaMB.telefone}" slotChar=" ">
					<p:clientValidator event="keyup" />
				</p:inputMask>
			</div>
			<p:message id="msg-telefone" for="dlg-telefone" />

			<f:facet name="footer">
				<div class="ui-g-12 ui-g-nopad">
					<div class="ui-g-6">
						<p:commandButton icon="fa fa-save" value="Adicionar"
							action="#{pessoaMB.resetarTelefone()}" validateClient="true"
							update="msg-telefone dlg-telefone telefones">
							<p:collector unique="true" value="#{pessoaMB.telefone}"
								addTo="#{pessoaMB.pessoa.telefones}" />
						</p:commandButton>
					</div>
					<div class="ui-g-6">
						<p:commandButton icon="fa fa-close" process="@this"
							styleClass="btn-red" oncomplete="PF('dlg-telefones').hide();"
							value="Cancelar" />
					</div>
				</div>
			</f:facet>
		</p:dialog>
	</div>
</h:form>


<h:form prependId="false">
	<div class="ui-fluid">
		<p:dialog id="dlg-emails" header="E-mail" closeOnEscape="true"
			draggable="false" dynamic="true" modal="true" focus="dlg-email"
			widgetVar="dlg-emails" fitViewport="true" resizable="false">

			<p:outputLabel value="E-mail" for="dlg-email" styleClass="my-label" />
			<div class="ui-inputgroup">
				<span class="ui-inputgroup-addon"> <i class="fa fa-at"></i>
				</span>
				<p:inputText id="dlg-email" value="#{pessoaMB.email}" type="email">
					<p:clientValidator event="keyup" />
				</p:inputText>
			</div>
			<p:message id="msg-email" for="dlg-email" />

			<f:facet name="footer">
				<div class="ui-g-12 ui-g-nopad">
					<div class="ui-g-6">
						<p:commandButton icon="fa fa-save" value="Adicionar"
							action="#{pessoaMB.resetarEmail()}" validateClient="true"
							update="msg-email dlg-email emails">
							<p:collector unique="true" value="#{pessoaMB.email}"
								addTo="#{pessoaMB.pessoa.emails}" />
						</p:commandButton>
					</div>
					<div class="ui-g-6">
						<p:commandButton icon="fa fa-close" process="@this"
							styleClass="btn-red" oncomplete="PF('dlg-emails').hide();"
							value="Cancelar" />
					</div>
				</div>
			</f:facet>
		</p:dialog>
	</div>

</h:form>
</html>